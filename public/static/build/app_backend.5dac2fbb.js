(window.webpackJsonp=window.webpackJsonp||[]).push([["app_backend"],{gH3k:function(e,t,n){"use strict";n.r(t);n("eoL8"),n("07d7"),n("5s+n");var a=n("ayg4"),s=n.n(a),i=n("uT2a"),o=n.n(i);var r,d,c,p,u=s.a.init({showOffsets:1,noticeOnUnload:0,container:"#grapes-editable",height:"100%",fromElement:!0,showDevices:!1,storageManager:{id:"grapes_page_content-",type:"remote",autosave:!0,urlStore:app_js_routing__grape_endpoint,urlLoad:app_js_routing__grape_endpoint,params:{_grapejs_editor_token:app_js_param__csrf_token,_page_id:app_js_param__page_id},stepsBeforeSave:1,storeComponents:!1,storeStyles:!1,storeHtml:!0,storeCss:!1},panels:{defaults:[]},plugins:[o.a],pluginsOpts:(d={},c=o.a,p={upload:!0,icons:{"menu.normalIcon.path":"/static/svg/icon-d.svg","menu.activeIcon.path":"/static/svg/icon-b.svg","menu.disabledIcon.path":"/static/svg/icon-a.svg","menu.hoverIcon.path":"/static/svg/icon-c.svg","submenu.normalIcon.path":"/static/svg/icon-d.svg","submenu.activeIcon.path":"/static/svg/icon-c.svg"},script:["/static/scripts/vendors/fabric.min.js","/static/scripts/vendors/tui-code-snippet.min.js","/static/scripts/vendors/tui-color-picker.min.js","/static/scripts/vendors/tui-image-editor.min.js"],style:[],height:"90vh"},c in d?Object.defineProperty(d,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[c]=p,d),canvas:{styles:[app_js_routing__styles_css]},assetManager:{assets:null,autoAdd:1,upload:app_js_routing__grape_endpoint_upload,params:{_grapejs_editor_token:app_js_param__csrf_token,_page_id:app_js_param__page_id}}});function l(){var e=null;if(e=document.querySelector(".gjs-am-file-uploader > form > #gjs-am-title"))return e.classList.remove("uploading"),void(e.innerHTML=e.dataset.initial);(e=document.querySelector(".tui-image-editor-main-container"))&&e.classList.remove("uploading")}u.Commands.add("save-db",{run:function(e,t){t&&t.set("active"),e.store()}}),u.on("asset:upload:start",(function(){!function(){var e=null,t=null,n='<div class="uploading-animation-container">\n  <div class="box1"></div>\n  <div class="box2"></div>\n  <div class="box3"></div>\n</div>';if(e=document.querySelector(".gjs-am-file-uploader > form > #gjs-am-title"))return e.dataset.initial=e.innerHTML,e.classList.add("uploading"),void(e.innerHTML=n);if(t=document.querySelector(".tui-image-editor-main-container")){var a=document.createElement("div");a.innerHTML=n,t.appendChild(a),t.classList.add("uploading")}}()})),u.on("asset:upload:end",(function(){l()})),u.on("asset:upload:error",(function(e){l(),alert(e.error)})),u.on("asset:upload:response",(function(e){l()})),u.on("modal:open",(function(e){var t=document.querySelector("form.gjs-am-add-asset"),n=document.querySelector("form.gjs-am-add-asset #ckf-popup");n||((n=document.createElement("button")).classList.add("gjs-btn-prim"),n.id="ckf-popup",n.innerHTML="Explore",t.appendChild(n)),n.addEventListener("click",(function(){CKFinder.popup({chooseFiles:!0,width:800,height:600,onInit:function(e){e.on("files:choose",(function(e){var t=e.data.files.first();document.querySelector("div.gjs-field.gjs-am-add-field input").value=t.getUrl()})),e.on("file:choose:resizedImage",(function(e){document.querySelector("div.gjs-field.gjs-am-add-field input").value=e.data.resizedUrl}))}})}))})),u.on("load",(function(){r=this.attributes.AssetManager;fetch(app_js_routing__list_images).then((function(e){return e.json()})).then((function(e){r.add(e)}))})),n("w52J")},w52J:function(e,t,n){}},[["gH3k","runtime",2,7]]]);